<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currency Converter</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="app-container">
        <!-- Convert Page -->
        <div id="convertPage" class="page active">
            <h1 class="page-title">Convert</h1>
            
            <div class="converter-container">
                <!-- From Currency -->
                <div class="currency-input-group">
                    <input type="number" id="amount1" class="amount-input" value="1000" placeholder="0" min="0" step="0.01">
                    <div class="currency-selector">
                        <select id="currency1" class="currency-select">
                            <!-- Ø³ÙŠØªÙ… Ù…Ù„Ø¤Ù‡Ø§ Ø¨Ø§Ù„Ø¬Ø§ÙØ§Ø³ÙƒØ±ÙŠØ¨Øª -->
                        </select>
                        <div class="currency-icon" id="icon1">
                            <img src="https://raw.githubusercontent.com/jamalkatabeuro-sketch/My-website/main/101-currency-usd.png" alt="USD">
                        </div>
                    </div>
                </div>

                <!-- Swap Button -->
                <div class="swap-button-container">
                    <button class="swap-btn" id="swapBtn">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                            <path d="M7 10L12 15L17 10" stroke="white" stroke-width="2"/>
                            <path d="M17 14L12 9L7 14" stroke="white" stroke-width="2"/>
                        </svg>
                    </button>
                </div>

                <!-- To Currency -->
                <div class="currency-input-group">
                    <input type="number" id="amount2" class="amount-input" value="0" readonly placeholder="0">
                    <div class="currency-selector">
                        <select id="currency2" class="currency-select">
                            <!-- Ø³ÙŠØªÙ… Ù…Ù„Ø¤Ù‡Ø§ Ø¨Ø§Ù„Ø¬Ø§ÙØ§Ø³ÙƒØ±ÙŠØ¨Øª -->
                        </select>
                        <div class="currency-icon" id="icon2">
                            <img src="https://raw.githubusercontent.com/jamalkatabeuro-sketch/My-website/main/121-currency-sar.png" alt="SAR">
                        </div>
                    </div>
                </div>

                <!-- Current Rate -->
                <div class="current-rate" id="rateDisplay">
                    <span>USD = 3.7500 SAR</span> at the mid-market 1 rate
                </div>
            </div>
        </div>

        <!-- Rates Page -->
        <div id="ratesPage" class="page">
            <div class="rates-header">
                <h1 class="page-title">Rates</h1>
                <div class="rates-actions">
                    <button class="action-btn delete" id="deleteFavoriteBtn" title="Delete all currencies">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                            <path d="M6 6L18 18M6 18L18 6" stroke="currentColor" stroke-width="2"/>
                        </svg>
                    </button>
                    <button class="add-rate-btn" id="addFavoriteBtn" title="Add currency">+</button>
                </div>
            </div>
            
            <div id="ratesContainer" class="rates-list">
                <!-- Ø³ÙŠØªÙ… Ù…Ù„Ø¤Ù‡Ø§ Ø¨Ø§Ù„Ø¬Ø§ÙØ§Ø³ÙƒØ±ÙŠØ¨Øª -->
            </div>
        </div>

        <!-- Settings Page -->
        <div id="settingsPage" class="page">
            <h1 class="page-title">Settings</h1>
            
            <!-- Language Section -->
            <div class="settings-section language-section">
                <h3 class="section-title">Language</h3>
                <div class="language-buttons">
                    <button class="language-btn" data-lang="en">English</button>
                    <button class="language-btn" data-lang="fr">French</button>
                    <button class="language-btn" data-lang="ar">Arabic</button>
                </div>
            </div>

            <!-- Dark Mode Section -->
            <div class="settings-section">
                <h3 class="section-title">Dark mode</h3>
                <div class="dark-mode-buttons">
                    <button class="dark-mode-btn" data-mode="off">Off</button>
                    <button class="dark-mode-btn" data-mode="on">On</button>
                    <button class="dark-mode-btn" data-mode="auto">Auto</button>
                </div>
            </div>

            <!-- General Settings -->
            <div class="settings-section">
                <h3 class="section-title">General settings</h3>
                
                <div class="setting-item">
                    <span class="setting-label">Terms and privacy</span>
                    <button class="setting-btn" id="termsBtn">ğŸ“„</button>
                </div>
            </div>

            <div class="version-info">
                <span>Version 2.0.0</span>
            </div>
        </div>

        <!-- Bottom Navigation -->
        <nav class="bottom-nav">
            <button class="nav-btn" id="navRates">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                    <path d="M3 3v18h18" stroke="currentColor" stroke-width="2"/>
                    <path d="M6 15l4-4 3 3 5-7" stroke="currentColor" stroke-width="2"/>
                </svg>
                <span>Rates</span>
            </button>
            
            <button class="nav-btn active" id="navConvert">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                    <path d="M7 10L12 15L17 10" stroke="currentColor" stroke-width="2"/>
                    <path d="M17 14L12 9L7 14" stroke="currentColor" stroke-width="2"/>
                </svg>
                <span>Convert</span>
            </button>
            
            <button class="nav-btn" id="navSettings">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                    <circle cx="12" cy="12" r="3" stroke="currentColor" stroke-width="2"/>
                    <path d="M12 1v6m0 6v6M23 12h-6m-6 0H1" stroke="currentColor" stroke-width="2"/>
                </svg>
                <span>Settings</span>
            </button>
        </nav>
    </div>

    <!-- Ù…Ù„Ù JavaScript Ù…Ø¨Ø³Ø· -->
    <script>
        console.log('ğŸš€ Ø¨Ø¯Ø¡ ØªØ´ØºÙŠÙ„ Ù…Ø­ÙˆÙ„ Ø§Ù„Ø¹Ù…Ù„Ø§Øª');
        
        // Ø§Ù„Ø¹Ù…Ù„Ø§Øª Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ© Ù…Ù‚Ø§Ø¨Ù„ USD
        const usdRates = {
            'EUR': 0.92,
            'GBP': 0.78,
            'JPY': 150,
            'SAR': 3.75,
            'AED': 3.67,
            'CAD': 1.37,
            'AUD': 1.52,
            'CHF': 0.88,
            'CNY': 7.25,
            'INR': 83,
            'BRL': 5.10,
            'MXN': 17.00,
            'KRW': 1350,
            'RUB': 91.00
        };

        // Ø§Ù„Ø¹Ù…Ù„Ø§Øª Ø§Ù„Ù…ØªØ§Ø­Ø©
        const availableCurrencies = [
            { code: 'USD', name: 'US Dollar', icon: 'usd' },
            { code: 'EUR', name: 'Euro', icon: 'eur' },
            { code: 'GBP', name: 'British Pound', icon: 'gbp' },
            { code: 'JPY', name: 'Japanese Yen', icon: 'jpy' },
            { code: 'SAR', name: 'Saudi Riyal', icon: 'sar' },
            { code: 'AED', name: 'UAE Dirham', icon: 'aed' },
            { code: 'CAD', name: 'Canadian Dollar', icon: 'cad' },
            { code: 'AUD', name: 'Australian Dollar', icon: 'aud' },
            { code: 'CHF', name: 'Swiss Franc', icon: 'chf' },
            { code: 'CNY', name: 'Chinese Yuan', icon: 'cny' },
            { code: 'INR', name: 'Indian Rupee', icon: 'inr' }
        ];

        // ØªÙ‡ÙŠØ¦Ø© Ø§Ù„ØªØ·Ø¨ÙŠÙ‚
        document.addEventListener('DOMContentLoaded', function() {
            console.log('ğŸ“„ Ø§Ù„ØµÙØ­Ø© Ù…Ø­Ù…Ù„Ø©');
            
            // 1. ØªØ¹Ø¨Ø¦Ø© Ù‚ÙˆØ§Ø¦Ù… Ø§Ù„Ø¹Ù…Ù„Ø§Øª
            populateCurrencySelects();
            
            // 2. ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ø£Ø­Ø¯Ø§Ø«
            initEvents();
            
            // 3. ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¹Ù…Ù„Ø§Øª Ø§Ù„Ù…ÙØ¶Ù„Ø©
            loadFavoriteRates();
            
            // 4. Ø§Ù„ØªØ­ÙˆÙŠÙ„ Ø§Ù„Ø£ÙˆÙ„ÙŠ
            performConversion();
            
            console.log('âœ… Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ø¬Ø§Ù‡Ø²');
        });

        // ØªØ¹Ø¨Ø¦Ø© Ù‚ÙˆØ§Ø¦Ù… Ø§Ù„Ø¹Ù…Ù„Ø§Øª
        function populateCurrencySelects() {
            const select1 = document.getElementById('currency1');
            const select2 = document.getElementById('currency2');
            
            if (!select1 || !select2) return;
            
            // ØªÙ†Ø¸ÙŠÙ Ø§Ù„Ù‚ÙˆØ§Ø¦Ù…
            select1.innerHTML = '';
            select2.innerHTML = '';
            
            // Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø¹Ù…Ù„Ø§Øª
            availableCurrencies.forEach(currency => {
                const option1 = document.createElement('option');
                option1.value = currency.code;
                option1.textContent = `${currency.code} - ${currency.name}`;
                
                const option2 = document.createElement('option');
                option2.value = currency.code;
                option2.textContent = `${currency.code} - ${currency.name}`;
                
                select1.appendChild(option1);
                select2.appendChild(option2);
            });
            
            // ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ù‚ÙŠÙ… Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ©
            select1.value = 'USD';
            select2.value = 'SAR';
        }

        // ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ø£Ø­Ø¯Ø§Ø«
        function initEvents() {
            // Ø²Ø± Ø§Ù„ØªØ¨Ø¯ÙŠÙ„
            const swapBtn = document.getElementById('swapBtn');
            if (swapBtn) {
                swapBtn.addEventListener('click', swapCurrencies);
            }
            
            // Ø£Ø²Ø±Ø§Ø± Ø§Ù„ØªÙ†Ù‚Ù„
            document.getElementById('navRates')?.addEventListener('click', () => showPage('rates'));
            document.getElementById('navConvert')?.addEventListener('click', () => showPage('convert'));
            document.getElementById('navSettings')?.addEventListener('click', () => showPage('settings'));
            
            // Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ù…ÙØ¶Ù„Ø©
            document.getElementById('addFavoriteBtn')?.addEventListener('click', showAddCurrencyDialog);
            document.getElementById('deleteFavoriteBtn')?.addEventListener('click', showDeleteCurrencyDialog);
            
            // Ø­Ù‚Ù„ Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„
            const amount1 = document.getElementById('amount1');
            if (amount1) {
                amount1.addEventListener('input', performConversion);
            }
            
            // Ù‚ÙˆØ§Ø¦Ù… Ø§Ù„Ø¹Ù…Ù„Ø§Øª
            const currency1 = document.getElementById('currency1');
            const currency2 = document.getElementById('currency2');
            
            if (currency1) currency1.addEventListener('change', performConversion);
            if (currency2) currency2.addEventListener('change', performConversion);
            
            // Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª
            document.getElementById('termsBtn')?.addEventListener('click', () => {
                alert('Ø´Ø±ÙˆØ· Ø§Ù„Ø®ØµÙˆØµÙŠØ©');
            });
        }

        // ØªÙ†ÙÙŠØ° Ø§Ù„ØªØ­ÙˆÙŠÙ„
        function performConversion() {
            const amount1 = document.getElementById('amount1');
            const amount2 = document.getElementById('amount2');
            const currency1 = document.getElementById('currency1');
            const currency2 = document.getElementById('currency2');
            const rateDisplay = document.getElementById('rateDisplay');
            
            if (!amount1 || !amount2 || !currency1 || !currency2) return;
            
            const amount = parseFloat(amount1.value);
            const from = currency1.value;
            const to = currency2.value;
            
            if (isNaN(amount) || amount <= 0) {
                amount2.value = '';
                return;
            }
            
            const rate = getExchangeRate(from, to);
            const convertedAmount = amount * rate;
            
            amount2.value = convertedAmount.toFixed(2);
            
            if (rateDisplay) {
                rateDisplay.innerHTML = `<span>${from} = ${rate.toFixed(4)} ${to}</span> at the mid-market 1 rate`;
            }
        }

        // Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø³Ø¹Ø± Ø§Ù„ØµØ±Ù
        function getExchangeRate(from, to) {
            if (from === to) return 1;
            
            // Ø¥Ø°Ø§ ÙƒØ§Ù† Ù…Ù† USD Ø¥Ù„Ù‰ Ø¹Ù…Ù„Ø© Ø£Ø®Ø±Ù‰
            if (from === 'USD' && usdRates[to]) {
                return usdRates[to];
            }
            
            // Ø¥Ø°Ø§ ÙƒØ§Ù† Ù…Ù† Ø¹Ù…Ù„Ø© Ø£Ø®Ø±Ù‰ Ø¥Ù„Ù‰ USD
            if (to === 'USD' && usdRates[from]) {
                return 1 / usdRates[from];
            }
            
            // Ø¥Ø°Ø§ ÙƒØ§Ù† Ø¨ÙŠÙ† Ø¹Ù…Ù„ØªÙŠÙ† ØºÙŠØ± USD
            if (usdRates[from] && usdRates[to]) {
                return usdRates[to] / usdRates[from];
            }
            
            // Ø³Ø¹Ø± Ø§ÙØªØ±Ø§Ø¶ÙŠ
            return 3.75;
        }

        // ØªØ¨Ø¯ÙŠÙ„ Ø§Ù„Ø¹Ù…Ù„Ø§Øª
        function swapCurrencies() {
            const currency1 = document.getElementById('currency1');
            const currency2 = document.getElementById('currency2');
            const amount1 = document.getElementById('amount1');
            const amount2 = document.getElementById('amount2');
            
            if (!currency1 || !currency2 || !amount1 || !amount2) return;
            
            const tempCurrency = currency1.value;
            const tempAmount = amount1.value;
            
            currency1.value = currency2.value;
            currency2.value = tempCurrency;
            
            amount1.value = amount2.value;
            amount2.value = tempAmount;
            
            performConversion();
        }

        // Ø¹Ø±Ø¶ ØµÙØ­Ø©
        function showPage(page) {
            // Ø¥Ø®ÙØ§Ø¡ Ø¬Ù…ÙŠØ¹ Ø§Ù„ØµÙØ­Ø§Øª
            document.querySelectorAll('.page').forEach(p => {
                p.classList.remove('active');
            });
            
            // ØªØ­Ø¯ÙŠØ« Ø£Ø²Ø±Ø§Ø± Ø§Ù„ØªÙ†Ù‚Ù„
            document.querySelectorAll('.nav-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            // Ø¹Ø±Ø¶ Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©
            const pageElement = document.getElementById(page + 'Page');
            if (pageElement) {
                pageElement.classList.add('active');
            }
            
            // ØªÙØ¹ÙŠÙ„ Ø²Ø± Ø§Ù„ØªÙ†Ù‚Ù„
            const navBtn = document.getElementById('nav' + page.charAt(0).toUpperCase() + page.slice(1));
            if (navBtn) {
                navBtn.classList.add('active');
            }
            
            // Ø¥Ø°Ø§ ÙƒØ§Ù†Øª ØµÙØ­Ø© Ø§Ù„Ø£Ø³Ø¹Ø§Ø±ØŒ Ù‚Ù… Ø¨ØªØ­Ø¯ÙŠØ«Ù‡Ø§
            if (page === 'rates') {
                loadFavoriteRates();
            }
        }

        // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø£Ø³Ø¹Ø§Ø± Ø§Ù„Ù…ÙØ¶Ù„Ø©
        function loadFavoriteRates() {
            const ratesContainer = document.getElementById('ratesContainer');
            if (!ratesContainer) return;
            
            ratesContainer.innerHTML = '';
            
            // Ø§Ù„Ø¹Ù…Ù„Ø§Øª Ø§Ù„Ù…ÙØ¶Ù„Ø© Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ© (Ø¬Ù…ÙŠØ¹Ù‡Ø§ Ù…Ù‚Ø§Ø¨Ù„ USD)
            const favoritePairs = [
                { from: 'USD', to: 'EUR' },
                { from: 'USD', to: 'GBP' },
                { from: 'USD', to: 'JPY' },
                { from: 'USD', to: 'SAR' },
                { from: 'USD', to: 'AED' },
                { from: 'USD', to: 'CAD' },
                { from: 'USD', to: 'AUD' },
                { from: 'USD', to: 'CHF' },
                { from: 'USD', to: 'CNY' },
                { from: 'USD', to: 'INR' }
            ];
            
            favoritePairs.forEach(pair => {
                const rate = getExchangeRate(pair.from, pair.to);
                const rateItem = createRateItem(pair.from, pair.to, rate);
                ratesContainer.appendChild(rateItem);
            });
        }

        // Ø¥Ù†Ø´Ø§Ø¡ Ø¹Ù†ØµØ± Ø³Ø¹Ø±
        function createRateItem(from, to, rate) {
            const item = document.createElement('div');
            item.className = 'rate-item';
            
            item.innerHTML = `
                <div class="rate-item-left">
                    <div class="currency-icons-double">
                        <div class="currency-icon-small">
                            <span class="currency-symbol">${from}</span>
                        </div>
                        <span class="equals-icon">=</span>
                        <div class="currency-icon-small">
                            <span class="currency-symbol">${to}</span>
                        </div>
                    </div>
                    <div class="rate-content">
                        <div class="rate-value-with-icons">
                            <span class="currency-code">${from}</span>
                            <span class="equals-sign">=</span>
                            <span class="rate-number">${rate.toFixed(4)}</span>
                            <span class="currency-code">${to}</span>
                        </div>
                    </div>
                </div>
                <button class="remove-rate-btn" onclick="removeRateItem(this)">Ã—</button>
            `;
            
            // Ø­Ø¯Ø« Ø§Ù„Ù†Ù‚Ø± Ù„Ù„Ø§Ù†ØªÙ‚Ø§Ù„ Ù„Ù„Ù…Ø­ÙˆÙ„
            item.addEventListener('click', function(e) {
                if (!e.target.classList.contains('remove-rate-btn')) {
                    const currency1 = document.getElementById('currency1');
                    const currency2 = document.getElementById('currency2');
                    
                    if (currency1 && currency2) {
                        currency1.value = from;
                        currency2.value = to;
                        performConversion();
                        showPage('convert');
                    }
                }
            });
            
            return item;
        }

        // Ø¥Ø²Ø§Ù„Ø© Ø¹Ù†ØµØ± Ø³Ø¹Ø±
        function removeRateItem(button) {
            const item = button.closest('.rate-item');
            if (item) {
                item.remove();
            }
        }

        // Ø¹Ø±Ø¶ Ù†Ø§ÙØ°Ø© Ø¥Ø¶Ø§ÙØ© Ø¹Ù…Ù„Ø©
        function showAddCurrencyDialog() {
            const dialog = document.createElement('div');
            dialog.className = 'dialog-overlay';
            
            dialog.innerHTML = `
                <div class="dialog-content">
                    <div class="dialog-header">
                        <h3>Add Currency</h3>
                        <button class="close-dialog" onclick="this.closest('.dialog-overlay').remove()">&times;</button>
                    </div>
                    <div class="dialog-body">
                        <div class="selection-group">
                            <label>To currency (from USD):</label>
                            <select id="dialogCurrencySelect" class="currency-select-dialog">
                                ${availableCurrencies.map(c => 
                                    `<option value="${c.code}">${c.code} - ${c.name}</option>`
                                ).join('')}
                            </select>
                        </div>
                        <div class="dialog-actions">
                            <button class="dialog-btn cancel-btn" onclick="this.closest('.dialog-overlay').remove()">Cancel</button>
                            <button class="dialog-btn add-btn-dialog" onclick="addCurrencyPair()">Add</button>
                        </div>
                    </div>
                </div>
            `;
            
            document.body.appendChild(dialog);
        }

        // Ø¥Ø¶Ø§ÙØ© Ø²ÙˆØ¬ Ø¹Ù…Ù„Ø§Øª
        function addCurrencyPair() {
            const select = document.getElementById('dialogCurrencySelect');
            if (!select) return;
            
            const toCurrency = select.value;
            const fromCurrency = 'USD';
            
            // Ø¥Ø¶Ø§ÙØ© Ø¥Ù„Ù‰ ØµÙØ­Ø© Ø§Ù„Ø£Ø³Ø¹Ø§Ø±
            const rate = getExchangeRate(fromCurrency, toCurrency);
            const ratesContainer = document.getElementById('ratesContainer');
            
            if (ratesContainer) {
                const rateItem = createRateItem(fromCurrency, toCurrency, rate);
                ratesContainer.appendChild(rateItem);
            }
            
            // Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„Ù†Ø§ÙØ°Ø©
            const dialog = document.querySelector('.dialog-overlay');
            if (dialog) {
                dialog.remove();
            }
        }

        // Ø¹Ø±Ø¶ Ù†Ø§ÙØ°Ø© Ø­Ø°Ù Ø§Ù„ÙƒÙ„
        function showDeleteCurrencyDialog() {
            if (confirm('Ù‡Ù„ ØªØ±ÙŠØ¯ Ø­Ø°Ù Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¹Ù…Ù„Ø§Øª Ù…Ù† ØµÙØ­Ø© Ø§Ù„Ø£Ø³Ø¹Ø§Ø±ØŸ')) {
                const ratesContainer = document.getElementById('ratesContainer');
                if (ratesContainer) {
                    ratesContainer.innerHTML = '<div class="no-rates">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¹Ù…Ù„Ø§Øª Ù…Ø¶Ø§ÙØ©. Ø§Ø¶ØºØ· + Ù„Ø¥Ø¶Ø§ÙØ© Ø¹Ù…Ù„Ø§Øª.</div>';
                }
            }
        }

        // Ø¬Ø¹Ù„ Ø§Ù„Ø¯ÙˆØ§Ù„ Ù…ØªØ§Ø­Ø© Ø¹Ø§Ù„Ù…ÙŠØ§Ù‹
        window.performConversion = performConversion;
        window.swapCurrencies = swapCurrencies;
        window.showPage = showPage;
        window.removeRateItem = removeRateItem;
    </script>
</body>
</html>
