<!DOCTYPE html>
<html lang="ar" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="theme-color" content="#000000">
    <title>Speedball 3D</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Game Canvas -->
    <canvas id="gameCanvas"></canvas>

    <!-- UI Overlay -->
    <div class="ui-overlay">
        <div class="score-panel">
            <div class="score-left">
                <div class="score-item">
                    <span class="score-label">Score</span>
                    <span class="score-value" id="currentScore">0</span>
                </div>
                <div class="score-item">
                    <span class="score-label">Best</span>
                    <span class="score-value" id="bestScore">0</span>
                </div>
            </div>
            <div class="score-right">
                <div class="score-item">
                    <span class="score-label">Speed</span>
                    <span class="score-value" id="speedValue">300%</span>
                </div>
                <div class="score-item">
                    <span class="score-label">Triangles</span>
                    <span class="score-value" id="triangleCount">0</span>
                </div>
            </div>
        </div>
        
        <!-- Game Mode Display -->
        <div class="mode-display" id="modeDisplay"></div>
    </div>

    <!-- Control Buttons -->
    <div class="controls">
        <button class="btn btn-road" id="btnRoad" title="Road Builder">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M3 3h18v18H3z"/>
                <path d="M3 9h18M3 15h18"/>
            </svg>
        </button>

        <button class="btn btn-sphere" id="btnSphere" title="Sphere Settings">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <circle cx="12" cy="12" r="10"/>
                <circle cx="12" cy="12" r="3"/>
            </svg>
        </button>

        <button class="btn btn-play" id="btnPlay" title="Play/Pause">
            <svg id="playIcon" width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                <path d="M8 5v14l11-7z"/>
            </svg>
            <svg id="pauseIcon" width="24" height="24" viewBox="0 0 24 24" fill="currentColor" style="display:none;">
                <path d="M6 4h4v16H6zM14 4h4v16h-4z"/>
            </svg>
        </button>

        <button class="btn btn-stats" id="btnStats" title="Statistics">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M3 3v18h18"/>
                <path d="M18 17V9M13 17v-4M8 17v-2"/>
            </svg>
        </button>

        <button class="btn btn-settings" id="btnSettings" title="Settings">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <circle cx="12" cy="12" r="3"/>
                <path d="M12 1v6m0 6v6M4.22 4.22l4.24 4.24m5.08 5.08l4.24 4.24M1 12h6m6 0h6M4.22 19.78l4.24-4.24m5.08-5.08l4.24-4.24"/>
            </svg>
        </button>
    </div>

    <!-- Modals -->
    <!-- Settings Modal -->
    <div class="modal" id="settingsModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>‚öôÔ∏è Settings</h2>
                <button class="close-btn" onclick="closeModal('settingsModal')">&times;</button>
            </div>
            <div class="modal-body">
                <div class="setting-group">
                    <label>Music Volume</label>
                    <input type="range" id="musicVolume" min="0" max="100" value="70">
                    <span id="musicVolumeValue">70%</span>
                </div>
                <div class="setting-group">
                    <label>SFX Volume</label>
                    <input type="range" id="sfxVolume" min="0" max="100" value="80">
                    <span id="sfxVolumeValue">80%</span>
                </div>
                <div class="setting-group">
                    <label>Graphics Quality</label>
                    <select id="graphicsQuality">
                        <option value="low">Low</option>
                        <option value="medium" selected>Medium</option>
                        <option value="high">High</option>
                        <option value="ultra">Ultra</option>
                    </select>
                </div>
                <div class="setting-group">
                    <label>Particle Effects</label>
                    <input type="checkbox" id="particleEffects" checked>
                </div>
                <button class="btn-primary" onclick="closeModal('settingsModal')">Apply</button>
            </div>
        </div>
    </div>

    <!-- Sphere Selection Modal -->
    <div class="modal" id="sphereModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>üé® Choose Sphere</h2>
                <button class="close-btn" onclick="closeModal('sphereModal')">&times;</button>
            </div>
            <div class="modal-body">
                <div class="sphere-grid" id="sphereGrid"></div>
                <button class="btn-primary" onclick="closeModal('sphereModal')">Start Game</button>
            </div>
        </div>
    </div>

    <!-- Road Builder Modal -->
    <div class="modal" id="roadModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>üõ£Ô∏è Road Patterns</h2>
                <button class="close-btn" onclick="closeModal('roadModal')">&times;</button>
            </div>
            <div class="modal-body">
                <div class="road-list" id="roadList"></div>
                <button class="btn-primary" onclick="closeModal('roadModal')">Apply</button>
            </div>
        </div>
    </div>

    <!-- Stats Modal -->
    <div class="modal" id="statsModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>üìä Statistics</h2>
                <button class="close-btn" onclick="closeModal('statsModal')">&times;</button>
            </div>
            <div class="modal-body">
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-value" id="totalGames">0</div>
                        <div class="stat-label">Total Games</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="highestScore">0</div>
                        <div class="stat-label">Highest Score</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="totalTriangles">0</div>
                        <div class="stat-label">Total Triangles</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="avgSpeed">300%</div>
                        <div class="stat-label">Avg Speed</div>
                    </div>
                </div>
                <button class="btn-danger" onclick="resetStats()">Reset Statistics</button>
            </div>
        </div>
    </div>

    <!-- Welcome Screen -->
    <div class="welcome-screen" id="welcomeScreen">
        <div class="welcome-content">
            <h1 class="game-title">SPEEDBALL</h1>
            <p class="game-subtitle">3D Racing Challenge</p>
            <div class="welcome-instructions">
                <p>üéØ Tap screen to move left/right</p>
                <p>üî∫ Collect triangles to score</p>
                <p>‚ö° Speed increases every 10 triangles</p>
            </div>
            <button class="btn-start" onclick="startGame()">START GAME</button>
        </div>
    </div>

    <!-- Load JavaScript Files -->
    <script src="config.js"></script>
    <script src="balls.js"></script>
    <script src="roads.js"></script>
    <script src="coins.js"></script>
    <script src="game-data.js"></script>
    <script src="stats.js"></script>
    <script src="settings.js"></script>
    <script src="ui.js"></script>
    <script src="game.js"></script>
</body>
</html>